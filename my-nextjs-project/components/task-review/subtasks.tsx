"use client"

import { useMemo, useState } from "react"
import TaskTabs from "@/components/task-review/tabs"
import Comments from "@/components/task-review/comments"
import Subtasks from "@/components/task-review/subtasks"
import Attachments from "@/components/task-review/attachments"
import RatingStars from "@/components/task-review/rating-stars"


type Task = {
  title: string
  assignee: string
  dueDate: string
  status: "Pending" | "Completed" | "Approved"
  estimatedTime: string
  timeTaken: string
  tags: string[]
  priority: "Low" | "Medium" | "High"
  rating: number
}

export default function TaskReviewPage() {
  const [task, setTask] = useState<Task>({
    title: "Homepage Redesign",
    assignee: "Jamal",
    dueDate: "8-Oct-25",
    status: "Completed",
    estimatedTime: "3 Days",
    timeTaken: "2 days",
    tags: ["Website Design", "Design"],
    priority: "High",
    rating: 0,
  })

  const tabs = useMemo(
    () => [
      { id: "subtasks", label: "Subtask", icon: "bi-list-check" },
      { id: "comments", label: "Comments", icon: "bi-chat-dots" },
      { id: "attachments", label: "Attachments", icon: "bi-paperclip" },
    ],
    [],
  )
  const [activeTab, setActiveTab] = useState<string>("comments")

  const approveTask = () => {
    setTask((t) => ({ ...t, status: "Approved" }))
  }

  const setRating = (stars: number) => {
    setTask((t) => ({ ...t, rating: stars }))
  }

  return (
    <main className="container py-4">
      {/* Header badge */}
      <div className=" row mb-3">
        <div className=" col-lg-12 d-flex justify-content-between align-items-center gap-2">

          {/* <h5 className="tsk-card-title text-balance mb-4">{task.title}</h5> */}
          <div className="card w-100">
            <div className="card-body">
              <h5 className="tsk-card-title text-balance mb-4">Sub Task</h5>
              <ul className="list-unstyled mb-0 small task-review-detail"></ul>
              <ul className="list-unstyled mb-0 small task-review-detail">
                <li className="mb-4 d-flex align-items-center justify-content-between">


                  <div className="d-flex align-items-center gap-1">
                    <svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
                      <mask id="mask0_704_978" maskUnits="userSpaceOnUse" x="0" y="0" width="20" height="20">
                        <rect width="20" height="20" fill="#D9D9D9" />
                      </mask>
                      <g mask="url(#mask0_704_978)">
                        <path d="M9.99967 10.0002C9.08301 10.0002 8.29829 9.67377 7.64551 9.021C6.99273 8.36822 6.66634 7.5835 6.66634 6.66683C6.66634 5.75016 6.99273 4.96544 7.64551 4.31266C8.29829 3.65989 9.08301 3.3335 9.99967 3.3335C10.9163 3.3335 11.7011 3.65989 12.3538 4.31266C13.0066 4.96544 13.333 5.75016 13.333 6.66683C13.333 7.5835 13.0066 8.36822 12.3538 9.021C11.7011 9.67377 10.9163 10.0002 9.99967 10.0002ZM3.33301 16.6668V14.3335C3.33301 13.8613 3.45454 13.4272 3.69759 13.0314C3.94065 12.6356 4.26356 12.3335 4.66634 12.1252C5.52745 11.6946 6.40245 11.3717 7.29134 11.1564C8.18023 10.9411 9.08301 10.8335 9.99967 10.8335C10.9163 10.8335 11.8191 10.9411 12.708 11.1564C13.5969 11.3717 14.4719 11.6946 15.333 12.1252C15.7358 12.3335 16.0587 12.6356 16.3018 13.0314C16.5448 13.4272 16.6663 13.8613 16.6663 14.3335V16.6668H3.33301ZM4.99967 15.0002H14.9997V14.3335C14.9997 14.1807 14.9615 14.0418 14.8851 13.9168C14.8087 13.7918 14.708 13.6946 14.583 13.6252C13.833 13.2502 13.0761 12.9689 12.3122 12.7814C11.5483 12.5939 10.7775 12.5002 9.99967 12.5002C9.2219 12.5002 8.45106 12.5939 7.68717 12.7814C6.92329 12.9689 6.16634 13.2502 5.41634 13.6252C5.29134 13.6946 5.19065 13.7918 5.11426 13.9168C5.03787 14.0418 4.99967 14.1807 4.99967 14.3335V15.0002ZM9.99967 8.3335C10.458 8.3335 10.8504 8.1703 11.1768 7.84391C11.5031 7.51752 11.6663 7.12516 11.6663 6.66683C11.6663 6.2085 11.5031 5.81613 11.1768 5.48975C10.8504 5.16336 10.458 5.00016 9.99967 5.00016C9.54134 5.00016 9.14898 5.16336 8.82259 5.48975C8.4962 5.81613 8.33301 6.2085 8.33301 6.66683C8.33301 7.12516 8.4962 7.51752 8.82259 7.84391C9.14898 8.1703 9.54134 8.3335 9.99967 8.3335Z" fill="#666666" />
                      </g>
                    </svg>
                    <strong>Assign to:</strong>
                  </div>
                  <span>{task.assignee}</span>
                </li>
                <li className="mb-4 d-flex align-items-center justify-content-between">

                  <div className="d-flex align-items-center gap-1">
                    <svg width="16" height="18" viewBox="0 0 16 18" fill="none" xmlns="http://www.w3.org/2000/svg">
                      <path d="M2.16667 17.3332C1.70833 17.3332 1.31597 17.17 0.989583 16.8436C0.663194 16.5172 0.5 16.1248 0.5 15.6665V3.99984C0.5 3.5415 0.663194 3.14914 0.989583 2.82275C1.31597 2.49637 1.70833 2.33317 2.16667 2.33317H3V0.666504H4.66667V2.33317H11.3333V0.666504H13V2.33317H13.8333C14.2917 2.33317 14.684 2.49637 15.0104 2.82275C15.3368 3.14914 15.5 3.5415 15.5 3.99984V15.6665C15.5 16.1248 15.3368 16.5172 15.0104 16.8436C14.684 17.17 14.2917 17.3332 13.8333 17.3332H2.16667ZM2.16667 15.6665H13.8333V7.33317H2.16667V15.6665ZM2.16667 5.6665H13.8333V3.99984H2.16667V5.6665Z" fill="#666666" />
                    </svg>
                    <strong>Due Date:</strong>
                  </div>
                  <span>{task.dueDate}</span>

                </li>
                <li className="mb-4 d-flex align-items-center justify-content-between">
                  <div className="d-flex align-items-center gap-1">
                    <svg width="18" height="17" viewBox="0 0 18 17" fill="none" xmlns="http://www.w3.org/2000/svg">
                      <path d="M9.00033 16.8332C7.84755 16.8332 6.76421 16.6144 5.75033 16.1769C4.73644 15.7394 3.85449 15.1457 3.10449 14.3957C2.35449 13.6457 1.76074 12.7637 1.32324 11.7498C0.885742 10.7359 0.666992 9.65261 0.666992 8.49984C0.666992 7.34706 0.885742 6.26373 1.32324 5.24984C1.76074 4.23595 2.35449 3.354 3.10449 2.604C3.85449 1.854 4.73644 1.26025 5.75033 0.822754C6.76421 0.385254 7.84755 0.166504 9.00033 0.166504C10.1531 0.166504 11.2364 0.385254 12.2503 0.822754C13.2642 1.26025 14.1462 1.854 14.8962 2.604C15.6462 3.354 16.2399 4.23595 16.6774 5.24984C17.1149 6.26373 17.3337 7.34706 17.3337 8.49984C17.3337 9.65261 17.1149 10.7359 16.6774 11.7498C16.2399 12.7637 15.6462 13.6457 14.8962 14.3957C14.1462 15.1457 13.2642 15.7394 12.2503 16.1769C11.2364 16.6144 10.1531 16.8332 9.00033 16.8332ZM9.00033 15.1665C10.8614 15.1665 12.4378 14.5207 13.7295 13.229C15.0212 11.9373 15.667 10.3609 15.667 8.49984H9.00033V1.83317C7.13921 1.83317 5.56283 2.479 4.27116 3.77067C2.97949 5.06234 2.33366 6.63873 2.33366 8.49984C2.33366 10.3609 2.97949 11.9373 4.27116 13.229C5.56283 14.5207 7.13921 15.1665 9.00033 15.1665Z" fill="#666666" />
                    </svg>
                    <strong>Status:</strong>
                  </div>
                  <span
                    className={
                      "badge " +
                      (task.status === "Completed"
                        ? "text-bg-success tsk-comp"
                        : task.status === "Approved"
                          ? "text-bg-primary"
                          : "text-bg-secondary")
                    }
                    aria-label={`Status: ${task.status}`}
                  >
                    {task.status}
                  </span>

                </li>
                <li className="mb-4 d-flex align-items-center justify-content-between">
                  <div className="d-flex align-items-center gap-1">
                    <svg width="20" height="16" viewBox="0 0 20 16" fill="none" xmlns="http://www.w3.org/2000/svg">
                      <path d="M9.83333 11.5L11 10.3333L8.33333 7.66667V3.83333H6.66667V8.33333L9.83333 11.5ZM15 15.0833V13.25C16.0278 12.7639 16.8403 12.0486 17.4375 11.1042C18.0347 10.1597 18.3333 9.125 18.3333 8C18.3333 6.875 18.0347 5.84028 17.4375 4.89583C16.8403 3.95139 16.0278 3.23611 15 2.75V0.916667C16.5139 1.44444 17.7257 2.35764 18.6354 3.65625C19.5451 4.95486 20 6.40278 20 8C20 9.59722 19.5451 11.0451 18.6354 12.3438C17.7257 13.6424 16.5139 14.5556 15 15.0833ZM7.5 15.5C6.45833 15.5 5.48264 15.3021 4.57292 14.9062C3.66319 14.5104 2.87153 13.9757 2.19792 13.3021C1.52431 12.6285 0.989583 11.8368 0.59375 10.9271C0.197917 10.0174 0 9.04167 0 8C0 6.95833 0.197917 5.98264 0.59375 5.07292C0.989583 4.16319 1.52431 3.37153 2.19792 2.69792C2.87153 2.02431 3.66319 1.48958 4.57292 1.09375C5.48264 0.697917 6.45833 0.5 7.5 0.5C8.54167 0.5 9.51736 0.697917 10.4271 1.09375C11.3368 1.48958 12.1285 2.02431 12.8021 2.69792C13.4757 3.37153 14.0104 4.16319 14.4062 5.07292C14.8021 5.98264 15 6.95833 15 8C15 9.04167 14.8021 10.0174 14.4062 10.9271C14.0104 11.8368 13.4757 12.6285 12.8021 13.3021C12.1285 13.9757 11.3368 14.5104 10.4271 14.9062C9.51736 15.3021 8.54167 15.5 7.5 15.5ZM7.5 13.8333C9.125 13.8333 10.5035 13.2674 11.6354 12.1354C12.7674 11.0035 13.3333 9.625 13.3333 8C13.3333 6.375 12.7674 4.99653 11.6354 3.86458C10.5035 2.73264 9.125 2.16667 7.5 2.16667C5.875 2.16667 4.49653 2.73264 3.36458 3.86458C2.23264 4.99653 1.66667 6.375 1.66667 8C1.66667 9.625 2.23264 11.0035 3.36458 12.1354C4.49653 13.2674 5.875 13.8333 7.5 13.8333Z" fill="#666666" />
                    </svg>
                    <strong>Estimated Time:</strong>

                  </div>
                  <span>{task.estimatedTime}</span>
                </li>
                <li className="mb-4 d-flex align-items-center justify-content-between">
                  <div className="d-flex align-items-center gap-1">
                    <svg width="20" height="16" viewBox="0 0 20 16" fill="none" xmlns="http://www.w3.org/2000/svg">
                      <path d="M9.83333 11.5L11 10.3333L8.33333 7.66667V3.83333H6.66667V8.33333L9.83333 11.5ZM15 15.0833V13.25C16.0278 12.7639 16.8403 12.0486 17.4375 11.1042C18.0347 10.1597 18.3333 9.125 18.3333 8C18.3333 6.875 18.0347 5.84028 17.4375 4.89583C16.8403 3.95139 16.0278 3.23611 15 2.75V0.916667C16.5139 1.44444 17.7257 2.35764 18.6354 3.65625C19.5451 4.95486 20 6.40278 20 8C20 9.59722 19.5451 11.0451 18.6354 12.3438C17.7257 13.6424 16.5139 14.5556 15 15.0833ZM7.5 15.5C6.45833 15.5 5.48264 15.3021 4.57292 14.9062C3.66319 14.5104 2.87153 13.9757 2.19792 13.3021C1.52431 12.6285 0.989583 11.8368 0.59375 10.9271C0.197917 10.0174 0 9.04167 0 8C0 6.95833 0.197917 5.98264 0.59375 5.07292C0.989583 4.16319 1.52431 3.37153 2.19792 2.69792C2.87153 2.02431 3.66319 1.48958 4.57292 1.09375C5.48264 0.697917 6.45833 0.5 7.5 0.5C8.54167 0.5 9.51736 0.697917 10.4271 1.09375C11.3368 1.48958 12.1285 2.02431 12.8021 2.69792C13.4757 3.37153 14.0104 4.16319 14.4062 5.07292C14.8021 5.98264 15 6.95833 15 8C15 9.04167 14.8021 10.0174 14.4062 10.9271C14.0104 11.8368 13.4757 12.6285 12.8021 13.3021C12.1285 13.9757 11.3368 14.5104 10.4271 14.9062C9.51736 15.3021 8.54167 15.5 7.5 15.5ZM7.5 13.8333C9.125 13.8333 10.5035 13.2674 11.6354 12.1354C12.7674 11.0035 13.3333 9.625 13.3333 8C13.3333 6.375 12.7674 4.99653 11.6354 3.86458C10.5035 2.73264 9.125 2.16667 7.5 2.16667C5.875 2.16667 4.49653 2.73264 3.36458 3.86458C2.23264 4.99653 1.66667 6.375 1.66667 8C1.66667 9.625 2.23264 11.0035 3.36458 12.1354C4.49653 13.2674 5.875 13.8333 7.5 13.8333Z" fill="#666666" />
                    </svg>
                    <strong>Time Taken:</strong>

                  </div>
                  <span>{task.timeTaken}</span>
                </li>
                <li className="mb-4 d-flex align-items-center justify-content-between flex-wrap">
                  <div className="d-flex align-items-center gap-1">
                    <svg width="18" height="17" viewBox="0 0 18 17" fill="none" xmlns="http://www.w3.org/2000/svg">
                      <path d="M8.29199 16.8332C8.08366 16.8332 7.87533 16.7915 7.66699 16.7082C7.45866 16.6248 7.27116 16.4998 7.10449 16.3332L1.14616 10.3748C0.979492 10.2082 0.857964 10.0241 0.781576 9.82275C0.705187 9.62137 0.666992 9.4165 0.666992 9.20817C0.666992 8.99984 0.705187 8.7915 0.781576 8.58317C0.857964 8.37484 0.979492 8.18734 1.14616 8.02067L8.47949 0.666504C8.63227 0.513726 8.81283 0.392198 9.02116 0.301921C9.22949 0.211643 9.44477 0.166504 9.66699 0.166504H15.6462C16.1045 0.166504 16.4969 0.329698 16.8232 0.656087C17.1496 0.982476 17.3128 1.37484 17.3128 1.83317V7.81234C17.3128 8.03456 17.2712 8.24636 17.1878 8.44775C17.1045 8.64914 16.9864 8.82623 16.8337 8.979L9.47949 16.3332C9.31283 16.4998 9.12533 16.6248 8.91699 16.7082C8.70866 16.7915 8.50033 16.8332 8.29199 16.8332ZM8.29199 15.1665L15.6462 7.7915V1.83317H9.68783L2.33366 9.20817L8.29199 15.1665ZM13.5628 5.1665C13.91 5.1665 14.2052 5.04498 14.4482 4.80192C14.6913 4.55887 14.8128 4.26373 14.8128 3.9165C14.8128 3.56928 14.6913 3.27414 14.4482 3.03109C14.2052 2.78803 13.91 2.6665 13.5628 2.6665C13.2156 2.6665 12.9205 2.78803 12.6774 3.03109C12.4344 3.27414 12.3128 3.56928 12.3128 3.9165C12.3128 4.26373 12.4344 4.55887 12.6774 4.80192C12.9205 5.04498 13.2156 5.1665 13.5628 5.1665Z" fill="#666666" />
                    </svg>
                    <strong>Tags:</strong>
                  </div>
                  <div className="tags-wrap d-flex flex-wrap gap-2">
                    {task.tags.map((t) => (
                      <span key={t} className="badge text-bg-info-subtle border border-info-subtle">
                        {t}
                      </span>
                    ))}
                  </div>


                </li>
                <li className="mb-4 d-flex align-items-center justify-content-between">
                  <div className="d-flex align-items-center gap-1">
                    <svg width="18" height="15" viewBox="0 0 18 15" fill="none" xmlns="http://www.w3.org/2000/svg">
                      <path d="M0.666992 14.1668L5.66699 7.50016L0.666992 0.833496H11.5003C11.7642 0.833496 12.0142 0.892524 12.2503 1.01058C12.4864 1.12863 12.6809 1.29183 12.8337 1.50016L17.3337 7.50016L12.8337 13.5002C12.6809 13.7085 12.4864 13.8717 12.2503 13.9897C12.0142 14.1078 11.7642 14.1668 11.5003 14.1668H0.666992ZM4.00033 12.5002H11.5003L15.2503 7.50016L11.5003 2.50016H4.00033L7.75033 7.50016L4.00033 12.5002Z" fill="#666666" />
                    </svg>
                    <strong>Priority:</strong>
                  </div>
                  <span className="badge text-bg-danger tsk-hp">High</span>

                </li>
              </ul>
            </div>
          </div>


        </div>
      </div>


      {/* Card */}


    </main>
  )
}
